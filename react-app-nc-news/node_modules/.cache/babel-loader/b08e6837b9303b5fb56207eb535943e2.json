{"ast":null,"code":"import _slicedToArray from \"/home/bertf1966/northcoders2/projects/fe-final-project/nc-fe-final-project/react-app-nc-news/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/bertf1966/northcoders2/projects/fe-final-project/nc-fe-final-project/react-app-nc-news/src/Components/SelectArticle.jsx\";\nimport React, { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { getNewsArticleById, incrementVote } from \"../Api\";\nimport ArticleComments from \"./ArticleComments\";\nexport default function SelectArticle() {\n  var _this = this;\n\n  var _useParams = useParams(),\n      article_id = _useParams.article_id;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      article = _useState2[0],\n      setArticle = _useState2[1];\n\n  var _useState3 = useState(0),\n      _useState4 = _slicedToArray(_useState3, 2),\n      voting = _useState4[0],\n      setVoting = _useState4[1];\n\n  var _useState5 = useState(true),\n      _useState6 = _slicedToArray(_useState5, 2),\n      isLoading = _useState6[0],\n      setIsLoading = _useState6[1];\n\n  useEffect(function () {\n    getNewsArticleById(article_id).then(function (article) {\n      setArticle([article]);\n      setIsLoading(false);\n    });\n  }, [article_id]);\n\n  function handleClick() {\n    setVoting(function (currentVoting) {\n      return currentVoting + 1;\n    });\n    incrementVote(article_id).catch(function (err) {\n      setVoting(function (currentVoting) {\n        return currentVoting - 1;\n      });\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"header\", {\n    className: \"App-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 9\n    }\n  }, \"Article\"), isLoading && /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 23\n    }\n  }, \"Loading...\")), article.map(function (item) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"Article-card\",\n      key: item.article_id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 13\n      }\n    }, item.title), /*#__PURE__*/React.createElement(\"p\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 13\n      }\n    }, item.author), /*#__PURE__*/React.createElement(\"p\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 13\n      }\n    }, item.topic), /*#__PURE__*/React.createElement(\"p\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 13\n      }\n    }, item.body), /*#__PURE__*/React.createElement(\"p\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 13\n      }\n    }, \"Votes \", item.votes + voting), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"vote-button\",\n      size: \"large\",\n      variant: \"contained\",\n      onClick: handleClick,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 13\n      }\n    }, \"Like\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 13\n      }\n    }, \"Comments: \", item.comment_count), /*#__PURE__*/React.createElement(ArticleComments, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 13\n      }\n    }));\n  }));\n}","map":{"version":3,"sources":["/home/bertf1966/northcoders2/projects/fe-final-project/nc-fe-final-project/react-app-nc-news/src/Components/SelectArticle.jsx"],"names":["React","useState","useEffect","useParams","getNewsArticleById","incrementVote","ArticleComments","SelectArticle","article_id","article","setArticle","voting","setVoting","isLoading","setIsLoading","then","handleClick","currentVoting","catch","err","map","item","title","author","topic","body","votes","comment_count"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,SAAT,QAA0B,kBAA1B;AACA,SAASC,kBAAT,EAA6BC,aAA7B,QAAkD,QAAlD;AACA,OAAOC,eAAP,MAA4B,mBAA5B;AAEA,eAAe,SAASC,aAAT,GAAyB;AAAA;;AAAA,mBACfJ,SAAS,EADM;AAAA,MAC9BK,UAD8B,cAC9BA,UAD8B;;AAAA,kBAERP,QAAQ,CAAC,EAAD,CAFA;AAAA;AAAA,MAE/BQ,OAF+B;AAAA,MAEtBC,UAFsB;;AAAA,mBAGVT,QAAQ,CAAC,CAAD,CAHE;AAAA;AAAA,MAG/BU,MAH+B;AAAA,MAGvBC,SAHuB;;AAAA,mBAIJX,QAAQ,CAAC,IAAD,CAJJ;AAAA;AAAA,MAI/BY,SAJ+B;AAAA,MAIpBC,YAJoB;;AAMtCZ,EAAAA,SAAS,CAAC,YAAM;AACdE,IAAAA,kBAAkB,CAACI,UAAD,CAAlB,CAA+BO,IAA/B,CAAoC,UAACN,OAAD,EAAa;AAC/CC,MAAAA,UAAU,CAAC,CAACD,OAAD,CAAD,CAAV;AACAK,MAAAA,YAAY,CAAC,KAAD,CAAZ;AACD,KAHD;AAID,GALQ,EAKN,CAACN,UAAD,CALM,CAAT;;AAOA,WAASQ,WAAT,GAAuB;AACrBJ,IAAAA,SAAS,CAAC,UAACK,aAAD,EAAmB;AAC3B,aAAOA,aAAa,GAAG,CAAvB;AACD,KAFQ,CAAT;AAGAZ,IAAAA,aAAa,CAACG,UAAD,CAAb,CAA0BU,KAA1B,CAAgC,UAACC,GAAD,EAAS;AACvCP,MAAAA,SAAS,CAAC,UAACK,aAAD,EAAmB;AAC3B,eAAOA,aAAa,GAAG,CAAvB;AACD,OAFQ,CAAT;AAGD,KAJD;AAKD;;AAED,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAQ,IAAA,SAAS,EAAC,YAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,EAEGJ,SAAS,iBAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFhB,CADF,EAKGJ,OAAO,CAACW,GAAR,CAAY,UAACC,IAAD,EAAU;AACrB,wBACE;AAAK,MAAA,SAAS,EAAC,cAAf;AAA8B,MAAA,GAAG,EAAEA,IAAI,CAACb,UAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKa,IAAI,CAACC,KAAV,CADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAID,IAAI,CAACE,MAAT,CAFF,eAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAIF,IAAI,CAACG,KAAT,CAHF,eAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAIH,IAAI,CAACI,IAAT,CAJF,eAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAUJ,IAAI,CAACK,KAAL,GAAaf,MAAvB,CALF,eAME;AAAQ,MAAA,SAAS,EAAC,aAAlB;AAAgC,MAAA,IAAI,EAAC,OAArC;AAA6C,MAAA,OAAO,EAAC,WAArD;AAAiE,MAAA,OAAO,EAAEK,WAA1E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cANF,eAOE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAAcK,IAAI,CAACM,aAAnB,CAPF,eAQE,oBAAC,eAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MARF,CADF;AAYD,GAbA,CALH,CADF;AAsBD","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { getNewsArticleById, incrementVote } from \"../Api\";\nimport ArticleComments from \"./ArticleComments\";\n\nexport default function SelectArticle() {\n  const { article_id } = useParams();\n  const [article, setArticle] = useState([]);\n  const [voting, setVoting] = useState(0);\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    getNewsArticleById(article_id).then((article) => {\n      setArticle([article]);\n      setIsLoading(false);\n    });\n  }, [article_id]);\n\n  function handleClick() {\n    setVoting((currentVoting) => {\n      return currentVoting + 1;\n    });\n    incrementVote(article_id).catch((err) => {\n      setVoting((currentVoting) => {\n        return currentVoting - 1;\n      });\n    });\n  }\n\n  return (\n    <div>\n      <header className=\"App-header\">\n        <h2>Article</h2>\n        {isLoading && <h2>Loading...</h2>}\n      </header>\n      {article.map((item) => {\n        return (\n          <div className=\"Article-card\" key={item.article_id}>\n            <h2>{item.title}</h2>\n            <p>{item.author}</p>\n            <p>{item.topic}</p>\n            <p>{item.body}</p>\n            <p>Votes {item.votes + voting}</p>\n            <button className=\"vote-button\" size=\"large\" variant=\"contained\" onClick={handleClick}>Like</button>\n            <p>Comments: {item.comment_count}</p>\n            <ArticleComments />\n          </div>\n        );\n      })}\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}